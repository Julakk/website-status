<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AhmadStore ‚Ä¢ Status Page</title>

<meta name="theme-color" content="#818cf8">
<meta name="apple-mobile-web-app-capable" content="yes">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
:root{
  --bg:#020617;
  --glass:rgba(255,255,255,.04);
  --border:rgba(255,255,255,.08);
  --text:#e5e7eb;
  --muted:#9ca3af;
  --primary:#818cf8;
  --secondary:#22d3ee;
  --success:#22c55e;
  --warning:#facc15;
  --danger:#ef4444;
}
*{box-sizing:border-box;font-family:Poppins,sans-serif}
body{
  margin:0;color:var(--text);
  background:
    radial-gradient(700px 350px at 10% -10%,rgba(129,140,248,.15),transparent),
    radial-gradient(600px 300px at 90% 10%,rgba(34,211,238,.12),transparent),
    var(--bg);
}
header{text-align:center;padding:60px 20px}
header h1{
  margin:0;font-size:38px;
  background:linear-gradient(90deg,var(--primary),var(--secondary));
  -webkit-background-clip:text;color:transparent
}
header p{color:var(--muted)}
.container{max-width:1100px;margin:auto;padding:20px}
.card{
  background:linear-gradient(180deg,var(--glass),transparent);
  backdrop-filter:blur(10px);
  border:1px solid var(--border);
  border-radius:24px;
  padding:24px;
  margin-bottom:20px;
}
.status-big{text-align:center}
.status-big h2{
  margin:0;font-size:26px;
  display:flex;gap:10px;
  justify-content:center;align-items:center
}
.badge{
  padding:6px 14px;
  border-radius:999px;
  font-size:13px;font-weight:600
}
.badge.ok{background:rgba(34,197,94,.15);color:var(--success)}
.badge.warn{background:rgba(250,204,21,.15);color:var(--warning)}

.input-group{
  display:flex;
  gap:14px;
  flex-wrap:wrap
}
input{
  flex:1;
  min-width:240px;
  padding:16px;
  border-radius:16px;
  border:1px solid var(--border);
  background:transparent;
  color:var(--text)
}
button{
  padding:16px 30px;
  border-radius:16px;
  border:none;
  cursor:pointer;
  font-weight:700;
  background:linear-gradient(135deg,var(--primary),var(--secondary));
  color:#020617
}
button:disabled{
  opacity:.5;
  cursor:not-allowed;
  filter:grayscale(1);
}
.error{
  margin-top:6px;
  font-size:12px;
  color:var(--danger);
  display:none;
}
.log{margin-top:12px;font-size:12px;color:#c7d2fe}
footer{text-align:center;color:#64748b;padding:28px;font-size:12px}
</style>
</head>

<body>

<header>
  <h1>AhmadStore Status</h1>
  <p>Public Service Monitoring & Uptime</p>
</header>

<div class="container">

  <div class="card status-big" id="globalStatus">
    <h2>üü¢ All Systems Operational <span class="badge ok">100%</span></h2>
  </div>

  <div class="card">
    <div class="input-group">
      <input id="domainInput" placeholder="example.com">
      <button id="checkBtn" disabled onclick="checkStatus()">Check Status</button>
    </div>
    <div class="error" id="errorMsg">
      ‚ö†Ô∏è Masukkan domain atau URL yang valid
    </div>
  </div>

  <div class="card">
    <h3>üìä Uptime History</h3>
    <canvas id="uptimeChart" height="120"></canvas>
    <div class="log" id="log"></div>
  </div>

</div>

<footer>¬© 2026 AhmadStore ‚Ä¢ Status Page</footer>

<script>
/* ======================
   INPUT VALIDATION
====================== */
const domainInput = document.getElementById("domainInput");
const checkBtn = document.getElementById("checkBtn");
const errorMsg = document.getElementById("errorMsg");

function isValidDomain(v){
  return /^(https?:\/\/)?([a-z0-9-]+\.)+[a-z]{2,}$/i.test(v);
}
function normalizeURL(v){
  if(!v.startsWith("http://") && !v.startsWith("https://")){
    return "https://" + v;
  }
  return v;
}

domainInput.addEventListener("input",()=>{
  const v = domainInput.value.trim();
  if(v==="" || !isValidDomain(v)){
    checkBtn.disabled = true;
    errorMsg.style.display = v==="" ? "none" : "block";
  }else{
    checkBtn.disabled = false;
    errorMsg.style.display = "none";
  }
});

/* ======================
   STATUS SIMULATION
====================== */
let chart;

function initChart(){
  chart=new Chart(uptimeChart,{
    type:'line',
    data:{labels:[],datasets:[{
      data:[],
      borderColor:'#22c55e',
      backgroundColor:'rgba(34,197,94,.15)',
      tension:.4,
      fill:true
    }]},
    options:{plugins:{legend:{display:false}},scales:{y:{min:90,max:100}}}
  });
}

function checkStatus(){
  let url = domainInput.value.trim();
  if(!isValidDomain(url)) return;

  url = normalizeURL(url);
  domainInput.value = url;

  const ok=Math.random()>0.1;
  globalStatus.innerHTML=`
    <h2>
      ${ok?'üü¢ All Systems Operational':'üü° Partial Outage'}
      <span class="badge ${ok?'ok':'warn'}">${ok?'100%':'Degraded'}</span>
    </h2>`;

  if(!chart) initChart();
  const val=Math.floor(96+Math.random()*4);
  chart.data.labels.push(new Date().toLocaleTimeString());
  chart.data.datasets[0].data.push(val);
  chart.update();

  log.innerHTML+=`‚Ä¢ ${new Date().toLocaleTimeString()} ‚Äî ${val}% uptime (${url})<br>`;
}
</script>

</body>
</html>
